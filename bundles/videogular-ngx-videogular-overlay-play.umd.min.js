!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/common"),require("@videogular/ngx-videogular/core")):"function"==typeof define&&define.amd?define("@videogular/ngx-videogular/overlay-play",["exports","@angular/core","@angular/common","@videogular/ngx-videogular/core"],n):n(((e="undefined"!=typeof globalThis?globalThis:e||self).videogular=e.videogular||{},e.videogular["ngx-videogular"]=e.videogular["ngx-videogular"]||{},e.videogular["ngx-videogular"]["overlay-play"]={}),e.ng.core,e.ng.common,e.videogular["ngx-videogular"].core)}(this,(function(e,n,t,i){"use strict";var o=function(){function e(e,n,t,i){this.API=n,this.fsAPI=t,this.controlsHidden=i,this.vgSkipOnControlsHidden=!1,this.vgSkipOnControlsHiddenDelay=.5,this.areControlsHiddenChangeTime=0,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.subscriptions=[],this.isBuffering=!1,this.elem=e.nativeElement}return e.prototype.ngOnInit=function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))},e.prototype.onPlayerReady=function(){var e=this;this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe((function(n){return e.onUpdateBuffer(n)})))},e.prototype.onUpdateBuffer=function(e){this.isBuffering=e},e.prototype.onChangeFullscreen=function(e){this.fsAPI.nativeFullscreen&&(this.isNativeFullscreen=e)},e.prototype.onHideControls=function(e){this.vgSkipOnControlsHidden&&this.areControlsHidden!=e&&(this.areControlsHiddenChangeTime=Date.now()),this.areControlsHidden=e},e.prototype.onClick=function(){if(!(this.vgSkipOnControlsHidden&&this.areControlsHidden&&Date.now()-this.areControlsHiddenChangeTime<1e3*this.vgSkipOnControlsHiddenDelay))switch(this.getState()){case i.VgStates.VG_PLAYING:this.target.pause();break;case i.VgStates.VG_PAUSED:case i.VgStates.VG_ENDED:this.target.play()}},e.prototype.getState=function(){var e=i.VgStates.VG_PAUSED;if(this.target)if(this.target.state instanceof Array){for(var n=0,t=this.target.state.length;n<t;n++)if(this.target.state[n]===i.VgStates.VG_PLAYING){e=i.VgStates.VG_PLAYING;break}}else e=this.target.state;return e},e.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))},e}();o.decorators=[{type:n.Component,args:[{selector:"vg-overlay-play",encapsulation:n.ViewEncapsulation.None,template:'<div\n    class="vg-overlay-play"\n    [class.native-fullscreen]="isNativeFullscreen"\n    [class.controls-hidden]="areControlsHidden"\n  >\n    <div\n      class="overlay-play-container"\n      [class.vg-icon-play_arrow]="getState() !== \'playing\'"\n    ></div>\n  </div>',styles:["\n      vg-overlay-play {\n        z-index: 200;\n      }\n      vg-overlay-play.is-buffering {\n        display: none;\n      }\n      vg-overlay-play .vg-overlay-play {\n        transition: all 0.5s;\n        cursor: pointer;\n        position: absolute;\n        display: block;\n        color: white;\n        width: 100%;\n        height: 100%;\n        font-size: 80px;\n        filter: alpha(opacity=60);\n        opacity: 0.6;\n      }\n      vg-overlay-play .vg-overlay-play.native-fullscreen.controls-hidden {\n        cursor: none;\n      }\n      vg-overlay-play\n        .vg-overlay-play\n        .overlay-play-container.vg-icon-play_arrow {\n        pointer-events: none;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 80px;\n      }\n      vg-overlay-play .vg-overlay-play:hover {\n        filter: alpha(opacity=100);\n        opacity: 1;\n      }\n      vg-overlay-play\n        .vg-overlay-play:hover\n        .overlay-play-container.vg-icon-play_arrow:before {\n        transform: scale(1.2);\n      }\n    "]}]}],o.ctorParameters=function(){return[{type:n.ElementRef},{type:i.VgApiService},{type:i.VgFullscreenApiService},{type:i.VgControlsHiddenService}]},o.propDecorators={vgFor:[{type:n.Input}],vgSkipOnControlsHidden:[{type:n.Input}],vgSkipOnControlsHiddenDelay:[{type:n.Input}],isBuffering:[{type:n.HostBinding,args:["class.is-buffering"]}],onClick:[{type:n.HostListener,args:["click"]}]};var r=function(){};r.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule,i.VgCoreModule],declarations:[o],exports:[o]}]}],e.VgOverlayPlayComponent=o,e.VgOverlayPlayModule=r,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=videogular-ngx-videogular-overlay-play.umd.min.js.map